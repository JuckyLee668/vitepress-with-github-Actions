run-name: ${{ github.actor }} is testing out GitHub Actions ğŸš€
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v4
      - name: Setup node
        uses: actions/setup-node@v3
        with:
          node-version: 20 # æŒ‡å®šnodeç‰ˆæœ¬
      - name: Install dependencies
        run: npm install
      - name: Install vitepress
        run: npm add -D vitepress # å®‰è£…ä¾èµ–
      - name: Build
        run: npm run docs:build # æ‰“åŒ…å‰ç«¯ä»£ç åˆ°ç”Ÿäº§ç¯å¢ƒï¼ˆç›®æ ‡è·¯å¾„ä¸ºï¼šserver/publicï¼‰
      - name: Push
        run: |
          git config user.name JuckyLee668
          git config user.email 2794920709@qq.com
          git remote add target https://github.com/JuckyLee668/Note_with_vitePress.git
          mkdir -p note
          cp -r ./vitepress/dist/* note/
          git add note
          git commit -m "github action auto push"
          git push -f target main
        env: # PUSH æƒé™è¦æ±‚
          GITHUB_TOKEN: ${{ secrets.PUSH_KEY }}
